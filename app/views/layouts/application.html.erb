<!DOCTYPE html>
<!-- CSS  -->
<!-- Compiled and minified CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
<!-- Compiled and minified JavaScript -->
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

<script>
  function goBack() {
    window.history.back();
  }
  function reLoad() {
    window.location.reload();
  }
</script>

<html>
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-173169828-1"></script>
    <!-- script data-ad-client="ca-pub-6152019699891433" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script -->
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-173169828-1');
    </script>
    <title>オトハブ</title>
    <%= display_meta_tags(default_meta_tags) %>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  </head>
  <style>
    body {
      word-break: break-all;
    }
    .page-footer {
      margin-top: 30px;
    }
    }
    .card {
      margin: 1rem 0 1rem 0;
    }
    .card .card-content {
      padding-top: 8px;
      padding-right: 14px;
      padding-bottom: 8px;
      padding-left: 14px;
    }
    .card .card-action {
      padding: 5px 10px;
    }
    .card .card-content .card-title {
      margin-top: 4px;
      margin-bottom: 4px;
      line-height: 18px;
    }
    .card .card-title {
      font-size: 17px;

    }
    .section {
      padding-top: 0.3rem;
      padding-bottom: 0.3rem;
    }
    .card .card-action a:not(.btn):not(.btn-small):not(.btn-large):not(.btn-large):not(.btn-floating) {
      margin-right: 13px;
    }
    .dropdown-content li > a, .dropdown-content li > span {
      font-size: 13px;
      color: #00C853;
      display: block;
      line-height: 20px;
      padding: 14px 16px;
    }
    .mini-btn {
      border-radius: 2px;
      height: 20px;
      line-height: 20px;
      padding: 0 5px;
    }
    .row .col {
      float: left;
      box-sizing: border-box;
      padding: 0 0rem;
      min-height: 1px;
    }
    .bitsmall {
      font-size: 90%;
    }
    .bitlarge {
      font-size: 120%;
    }
    .linkdiv {
      position: relative;
      z-index: 1; /* 必要であればリンク要素の重なりのベース順序指定 */
    }
    .linkdiv a {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      text-indent:-999px;
      z-index: 2; /* 必要であればリンク要素の重なりのベース順序指定 */
    }
    .rect {
      width : 100% ;
      padding-top : 100% ;
    }
    .artist-img{
      width: auto;
      height: auto;
      max-width: 80%;
      max-height: 150px;
      object-fit: contain;
    }
    .img-parent {
      position: relative;
      overflow: hidden;
      width: 100%;
      max-height: 150px;
    }
    .img-parent:before {
      content: "";
      display: block;
      padding-top: 100%;
      max-height: 150px;
    }
    .img-child {
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      max-height: 150px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .artist-show-img-container{
      display: flex;
      justify-content: center;
      align-items: center;
    }
  </style>
  <script>
    $(".dropdown-trigger").dropdown();
  </script>
  <body>
    <header>
      <ul id="dropdown1" class="dropdown-content">
        <li><a href='/'>TOP</a></li>
        <li><a href='/artists'>アーティスト</a></li>
        <li><a href="/albums">アルバム</a></li>
        <li><a href="/posts">新着投稿</a></li>
        <% if user_signed_in? %>
          <li class="divider"></li>
          <li><a href="/users/<%= current_user.id %>" class="red-text">マイページ</a></li>
        <% else %>
          <li class="divider"></li>
          <li><a href="/users/sign_in" class="orange-text">ログイン</a></li>
        <% end %>
      </ul>
      <nav>
        <div class="nav-wrapper container">
          <a href="/" class="brand-logo left pl-1">オトハブ</a>
          <ul class="right">
            <% if user_signed_in? %>
              <li><strong><%= link_to current_user.username, "/users/#{current_user.id}" %></strong></li>
            <% else %>
              <li><%= link_to 'ログイン', new_user_session_path %></li>
            <% end %>
            <li><a class="dropdown-trigger" data-target="dropdown1">MENU<i class="material-icons right">arrow_drop_down</i></a></li>
          </ul>
        </div>
      </nav>
    </header>
    <div class="container">
      <p class="notice"><%= notice %></p>
      <p class="alert"><%= alert %></p>
      <%= yield %>
      <br />
      <div class="row">
        <br />
        <button onclick="goBack()" class="btn grey left">戻る</button>
        <input type="button" value="再読み込み" class="btn grey right" onclick="reLoad()" />
      </div>
      <!-- admax -->
      <script src="https://adm.shinobi.jp/s/66832d736d111d53f04c1cbe8d369345"></script>
      <!-- admax -->
    </div>
    
    <footer class="page-footer">
      <div class="container">
        <div class="row">
          <div class="col l4 offset-l2 s12">
              <a class="grey-text text-lighten-3" href="/aboutus">使い方</a>
              <a class="grey-text text-lighten-3" href="/terms">利用規約</a>
              <a class="grey-text text-lighten-3" href="/contact">お問い合わせ</a>
          </div>
        </div>
      </div>
      <div class="footer-copyright">
        <div class="container">
        © 2020 オトハブ.
        </div>
      </div>
    </footer>
  </body>
</html>

<script>
  $(document).ready(function(){
    $('select').formSelect();
    $(".dropdown-trigger").dropdown();
  });
  $(function(){
    $("#input-text").on("keyup", function() {
      let countNum = String($(this).val().length);
      $("#counter").text(countNum + "文字");
    });
  }); 
  $(document).on('touchend','.dropdown-content li a',function(){
      var href = $(this).attr('href');
      window.location.href = href;

      return false;
  });
  $(document).ready(function(){
    $('.collapsible').collapsible();
  })

  $(document).ready(function(){
    $('.materialboxed').materialbox();
  });
  
  $(document).ready(function(){
    $('.modal').modal();
  });
  
  $(function() {
  $('#js-copybtn').on('click', function(){
    // コピーする文章の取得
    let text = $('#js-copytext').text();
    // テキストエリアの作成
    let $textarea = $('<textarea></textarea>');
    // テキストエリアに文章を挿入
    $textarea.text(text);
    //　テキストエリアを挿入
    $(this).append($textarea);
    //　テキストエリアを選択
    $textarea.select();
    // コピー
    document.execCommand('copy');
    // テキストエリアの削除
    $textarea.remove();
    // アラート文の表示
    //alert("リンクをコピーしました");
    $('#js-copybtn').text("コピー済み");
  });
});
</script>